{% extends "base.html.j2" %}
{% block content %}
    <h1 class="text-light">Lista de Autores</h1>
    <button
        class="btn btn-primary btn-sm mb-3"
        data-bs-toggle="modal" data-bs-target="#modal">
        Adicionar Autor(a)
    </button>
    <ul id="autores" class="list-group">
        {% for autor in autores %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ autor['nome'] }}
            <span>
                <a class="btn btn-link" href="/autor/{{ autor['id'][7:] }}">Ver livros</a>
                <button
                    class="btn btn-link"
                    data-bs-toggle="modal" data-bs-target="#modal-edit-autor"
                    onclick="modalAutor(`{{ autor['id'] }}`, `{{ autor['nome'] }}`)">
                    Editar
                </button>
                <button 
                    class="btn btn-link text-danger"
                    onclick="excluirAutor(`{{ autor['id'][7:] }}`)">
                    Excluir
                </button>
            </span>
        </li>
        {% endfor %}
    </ul>
{% endblock %}
{% block modal_title %}Adicionar Autor(a){% endblock %}
{% block modal_body %}
    <label for="nome_autor" class="form-label">Nome</label>
    <input id="nome_autor" class="form-control" type="text" placeholder="ex: JosÃ© de Alencar">
{% endblock %}
{% block modal_footer %}
    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
    <button class="btn btn-primary" onclick="novoAutor()">Salvar</button>
{% endblock %}